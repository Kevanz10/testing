exit
Event.new(event_params)
c
exit
c
(out_event.timestamp - in_event.timestamp) / 3600.0
n
c
has_in
exit
events.first
events.first.in?
events.first.kind
event.kind
events
has_in
events
has_out
has_in
c
exit
Event.where(employee_id: @employee_id, timestamp: @from.beginning_of_day..@to.end_of_day).order(timestamp: :desc).group_by { |event| event.timestamp.to_date }
Event.where(employee_id: @employee_id, timestamp: @from.beginning_of_day..@to.end_of_day).order(timestamp: :desc).size
Event.where(employee_id: @employee_id, timestamp: @from.beginning_of_day..@to.end_of_day).order(timestamp: :desc)
Event.first
Event.where(employee_id: @employee_id,  timestamp: @from.beginning_of_day..@to.end_of_day).order_by(:timestamp)
Event.where(employee_id: @employee_id,  timestamp: @from.beginning_of_day..@to.end_of_day).order(:timestamp).size
Event.where(employee_id: @employee_id,  timestamp: @from.beginning_of_day..@to.end_of_day).order(:timestamp)
Event.where(employee_id: @employee_id,  timestamp: @from.beginning_of_day..@to.end_of_day)..order(:timestamp)
Event.where(employee_id: @employee_id,  timestamp: @from.beginning_of_day..@to.end_of_day).size
Event.where(employee_id: @employee_id,  timestamp: @from.beginning_of_day..@to.end_of_day)
@from
Event.count
events.group_by { |event| event.timestamp.to_date }.keys.size
events.group_by { |event| event.timestamp.to_date }
events.group_by { |event| event.timestamp }
events.e
events_by_day
events
has_out
has_in
exit
total_hours
exit
report
c
report
c
n
report
Event.first
Event.count
Employee.count
c
params["employee_id"].to_i
params["employee_id"]
params
(!validate_date_format(params[:from]) || !validate_date_format(params[:to]))
c
n
params
event
event.valid?
n
c
n
event.valid?
event
n
c
report
exit
report.to_json
report
exit
(!validate_date_format(params[:from]) || !validate_date_format(params[:to]) || !params[:employee_id].to_i > 0)
params[:employee_id].to_i > 0
params[:employee_id]
params
exit
 !validate_date_format(:to)
!validate_date_format(params[:from])
(!validate_date_format(params[:from]) || !validate_date_format(:to) || !params[:employee_id].to_i > 0)
c
n
given_event(employee_id: first_employee, timestamp: '2019-05-01 08:00', kind: :in)
exit
c
n
event_params
exit
c
event
exit
c
event_params[:timestamp]
event.format_time(event_params[:timestamp])
event.timestamp
event.timestamp.type
event.timestamp.class
event.timestamp
event
exit
c
event
exit
DateTime.strptime(params[:timestamp], '%s')
DateTime.strptime(time, '%s')
 DateTime.strptime(time, '%s')
event.format_time(params[:timestamp])
 event.format_time(params[:timestamp])
event
exit
 event.format_time(params[:timestamp])
event
event = Event.new(employee_id: 1, timestamp: DateTime.strptime("1556716200",'%s'), kind: 'in')
puts event.timestamp # Check if the timestamp is set correctly
 event.format_time(params[:timestamp])
params[:timestamp]
event.format_time(params[:timestamp])
event
exit
event_params
Event.new(event_params)
 Event.new(event_params)
event_params
params
c
event.save
event
n
